{% extends "PhysioWat/base.html" %}
{% load static %}
{% load highcharts_tags %}
{% block app_specific_css %}

{% endblock %}


{% block container %}
<div class="content row">

    <div class="graphs col-md-8">
        <div class="processed-signal row">
            <div id="processed-signal"> </div>
        </div>
        <div class="temporary-processing row">
            <div id="temporary-processing"> </div>
        </div>
    </div>

    <div class="algorithms col-md-4">
        <form id="data-slice" action=".">
            <div class="checkbox">
                <label>
                    <input type="checkbox" value="">
                    Algorithm 1
                </label>
                <label>
                    <input type="checkbox" value="">
                    Algorithm 2
                </label>
            </div>
            <!-- <label for="inputBegin">Begin</label> -->
            <input type="text" class="form-control" id="begin" placeholder="begin">

            <!-- <label for="inputEnd">End</label> -->
            <input type="text" class="form-control" id="end" placeholder="end">

            <!-- <label for="inputTitle">Name</label> -->
            <input type="text" class="form-control" id="title" placeholder="graph title">

            <button type="submit" class="btn btn-primary" id="apply_button">Apply</button>
            <button type="reset" class="btn btn-danger">Reset</button>
            
            </form>
   </div>

</div>
{% endblock %}


{% block app_specific_js %}

{% highcharts_js 1 0 0 0 %}

<script>
$(function () {
    $.getJSON("{% url 'chart_getdata' 'graph1' %}", function(data) {
        $('#processed-signal').highcharts(data);
    });
    $.getJSON("{% url 'chart_getdata' '343443' %}", function(data) {
        $('#temporary-processing').highcharts(data);
    });

    $("form#data-slice").submit(function (e) {
        e.preventDefault(); //prevent default form submit
        $.getJSON("{% url 'chart_getdata' %}" + [$("#title").val(), $("#begin").val(), $("#end").val()].join('/') + '/', function(data) {
            $('#processed-signal').highcharts(data);
        });
    });
});
</script>

{% endblock app_specific_js %}
